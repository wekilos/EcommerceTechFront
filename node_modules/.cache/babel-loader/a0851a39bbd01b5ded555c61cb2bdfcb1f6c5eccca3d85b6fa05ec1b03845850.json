{"ast":null,"code":"var _jsxFileName = \"/Users/wekilos1902gmail.com/Desktop/Begnazar/frontend/src/context/context.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, createContext } from \"react\";\nimport { isLogin } from \"../utils\";\nimport { axiosInstance } from \"../utils/axiosIntance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Context = /*#__PURE__*/createContext();\nconst ContextProvider = props => {\n  _s();\n  let localPro;\n  const localProduct = localStorage.getItem(\"BasketProducts\");\n\n  //-----------------------------------------------------------------\n  const [is_logged, set_is_logged] = useState(false);\n  //-----------------------------------------------------------------\n\n  if (localProduct) {\n    localPro = JSON.parse(localProduct);\n  } else {\n    localPro = [];\n  }\n  const [basket, setBasket] = useState(localPro);\n  const checkLogin = () => {\n    const data = JSON.parse(localStorage.getItem(\"userData\"));\n    if ((data === null || data === void 0 ? void 0 : data.id) !== undefined) set_is_logged(true);else set_is_logged(false);\n  };\n  useEffect(() => {\n    checkLogin();\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"BasketProducts\", JSON.stringify(basket));\n  }, [basket]);\n  let [dil, setDil] = useState(\"TM\");\n  useEffect(() => {\n    let dilData = localStorage.getItem(\"OnlineDil\");\n    if (dilData) {\n      setDil(JSON.parse(dilData));\n    } else {\n      setDil(\"TM\");\n      localStorage.setItem(\"OnlineDil\", JSON.stringify(\"TM\"));\n    }\n  }, []);\n  const ChangeDil = event => {\n    setDil(event);\n    localStorage.setItem(\"OnlineDil\", JSON.stringify(event));\n  };\n  const addPro = pro => {\n    console.log(pro);\n    let is_have = false;\n    basket === null || basket === void 0 ? void 0 : basket.map(item => {\n      if ((item === null || item === void 0 ? void 0 : item.ProductId) == (pro === null || pro === void 0 ? void 0 : pro.id)) {\n        is_have = true;\n      }\n    });\n    if (is_have) {\n      incPro(pro.id);\n    } else {\n      let obj = {\n        ProductId: pro === null || pro === void 0 ? void 0 : pro.id,\n        quantity: 1,\n        pro: pro\n      };\n      let array = basket;\n      array.push(obj);\n      setBasket([...array]);\n    }\n    console.log(\"gobasket\", basket);\n  };\n  const removePro = proId => {\n    console.log(proId);\n    let array = basket.filter(item => {\n      return proId != (item === null || item === void 0 ? void 0 : item.ProductId);\n    });\n    setBasket([...array]);\n  };\n  const incPro = proId => {\n    console.log(\"inc\", proId);\n    let array = basket;\n    let index = -1;\n    array.map((item, i) => {\n      if (item.ProductId == proId) {\n        index = i;\n      }\n    });\n    if (index != -1) {\n      array[index].quantity = array[index].quantity + 1;\n    }\n    setBasket([...array]);\n  };\n  const decPro = proId => {\n    console.log(\"inc\", proId);\n    let array = basket;\n    let index = -1;\n    array.map((item, i) => {\n      if (item.ProductId == proId) {\n        index = i;\n      }\n    });\n    if (index != -1) {\n      array[index].quantity > 1 ? array[index].quantity = array[index].quantity - 1 : removePro(proId);\n    }\n    setBasket([...array]);\n  };\n  const removeAll = () => {\n    setBasket([]);\n  };\n  const countPro = async id => {\n    let count = 0;\n    await basket.map(item => {\n      if (item.ProductId == id) {\n        count = item.quantity;\n      }\n    });\n    return count;\n  };\n  //---------------------------------------------------------------------------------------------\n  const logout = () => {\n    localStorage.removeItem(\"BasketProducts\");\n    localStorage.removeItem(\"OnlineDil\");\n    localStorage.removeItem(\"userData\");\n    checkLogin();\n  };\n\n  //---------------------------------------------------------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      is_logged,\n      checkLogin,\n      logout,\n      dil,\n      ChangeDil,\n      addPro,\n      removePro,\n      incPro,\n      decPro,\n      basket,\n      removeAll,\n      countPro\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"zn9jbfNCA9WSzveGh+l0Ed/+tqM=\");\n_c = ContextProvider;\nexport default ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","createContext","isLogin","axiosInstance","jsxDEV","_jsxDEV","Context","ContextProvider","props","_s","localPro","localProduct","localStorage","getItem","is_logged","set_is_logged","JSON","parse","basket","setBasket","checkLogin","data","id","undefined","setItem","stringify","dil","setDil","dilData","ChangeDil","event","addPro","pro","console","log","is_have","map","item","ProductId","incPro","obj","quantity","array","push","removePro","proId","filter","index","i","decPro","removeAll","countPro","count","logout","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/wekilos1902gmail.com/Desktop/Begnazar/frontend/src/context/context.js"],"sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\nimport { isLogin } from \"../utils\";\nimport { axiosInstance } from \"../utils/axiosIntance\";\n\nexport const Context = createContext();\n\nconst ContextProvider = (props) => {\n  let localPro;\n  const localProduct = localStorage.getItem(\"BasketProducts\");\n\n  //-----------------------------------------------------------------\n  const [is_logged, set_is_logged] = useState(false);\n  //-----------------------------------------------------------------\n\n  if (localProduct) {\n    localPro = JSON.parse(localProduct);\n  } else {\n    localPro = [];\n  }\n\n  const [basket, setBasket] = useState(localPro);\n\n  const checkLogin = () => {\n    const data = JSON.parse(localStorage.getItem(\"userData\"));\n    if (data?.id !== undefined) set_is_logged(true);\n    else set_is_logged(false);\n  };\n\n  useEffect(() => {\n    checkLogin();\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"BasketProducts\", JSON.stringify(basket));\n  }, [basket]);\n\n  let [dil, setDil] = useState(\"TM\");\n  useEffect(() => {\n    let dilData = localStorage.getItem(\"OnlineDil\");\n    if (dilData) {\n      setDil(JSON.parse(dilData));\n    } else {\n      setDil(\"TM\");\n      localStorage.setItem(\"OnlineDil\", JSON.stringify(\"TM\"));\n    }\n  }, []);\n\n  const ChangeDil = (event) => {\n    setDil(event);\n    localStorage.setItem(\"OnlineDil\", JSON.stringify(event));\n  };\n\n  const addPro = (pro) => {\n    console.log(pro);\n    let is_have = false;\n    basket?.map((item) => {\n      if (item?.ProductId == pro?.id) {\n        is_have = true;\n      }\n    });\n\n    if (is_have) {\n      incPro(pro.id);\n    } else {\n      let obj = {\n        ProductId: pro?.id,\n        quantity: 1,\n        pro: pro,\n      };\n      let array = basket;\n      array.push(obj);\n      setBasket([...array]);\n    }\n    console.log(\"gobasket\", basket);\n  };\n\n  const removePro = (proId) => {\n    console.log(proId);\n    let array = basket.filter((item) => {\n      return proId != item?.ProductId;\n    });\n    setBasket([...array]);\n  };\n\n  const incPro = (proId) => {\n    console.log(\"inc\", proId);\n    let array = basket;\n    let index = -1;\n    array.map((item, i) => {\n      if (item.ProductId == proId) {\n        index = i;\n      }\n    });\n    if (index != -1) {\n      array[index].quantity = array[index].quantity + 1;\n    }\n    setBasket([...array]);\n  };\n  const decPro = (proId) => {\n    console.log(\"inc\", proId);\n    let array = basket;\n    let index = -1;\n    array.map((item, i) => {\n      if (item.ProductId == proId) {\n        index = i;\n      }\n    });\n    if (index != -1) {\n      array[index].quantity > 1\n        ? (array[index].quantity = array[index].quantity - 1)\n        : removePro(proId);\n    }\n    setBasket([...array]);\n  };\n\n  const removeAll = () => {\n    setBasket([]);\n  };\n\n  const countPro = async (id) => {\n    let count = 0;\n    await basket.map((item) => {\n      if (item.ProductId == id) {\n        count = item.quantity;\n      }\n    });\n    return count;\n  };\n  //---------------------------------------------------------------------------------------------\n  const logout = () => {\n    localStorage.removeItem(\"BasketProducts\");\n    localStorage.removeItem(\"OnlineDil\");\n    localStorage.removeItem(\"userData\");\n    checkLogin();\n  };\n\n  //---------------------------------------------------------------------------------------------\n\n  return (\n    <Context.Provider\n      value={{\n        is_logged,\n        checkLogin,\n        logout,\n        dil,\n        ChangeDil,\n        addPro,\n        removePro,\n        incPro,\n        decPro,\n        basket,\n        removeAll,\n        countPro,\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\nexport default ContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}